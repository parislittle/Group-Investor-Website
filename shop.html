<html>

<head>
    <link rel="stylesheet" href="tabbed-style.css">
    <meta charset="UTF-8">
    <title>Shop</title>
    <style>
        /* Shopping Cart */
        .shopping-cart-wrapper {
            position: relative;
            display: inline-block;
        }

        .shopping-cart-icon {
            width: 24px;
            vertical-align: middle;
        }

        .cart-quantity {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -35%);
            font-size: 14px;
            /* Adjust the font size as needed */
            color: black;
        }

        /* Add to cart button */
        .flavors .add-to-cart-btn {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 10px 20px;
            background-color: #f0c14b;
            border: none;
            cursor: pointer;
        }

        .flavors:hover .add-to-cart-btn {
            display: block;
        }

        .products {
            display: flex;
            justify-content: center;
            flex-direction: row;
            flex-wrap: wrap;
            width: 100%;
            margin-top: 15px;
            margin-bottom: 15px;
        }

        .flavors {
            position: relative;
            width: 360px;
            height: 400px;
            margin-left: 20px;
            margin-right: 20px;
            text-align: center;
            margin-bottom: 100px;
            transition: 1s;
            text-align: center;
            border-radius: 25px;
        }

        /* Shopping Cart Overlay */
        .cart-overlay {
            position: fixed;
            top: 0;
            right: 0;
            bottom: 0;
            width: 300px;
            background-color: #ffffff;
            z-index: 1000;
            overflow-y: auto;
            padding: 20px;
            box-sizing: border-box;
        }

        .cart-overlay-content {
            max-width: 100%;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .cart-item img {
            width: 50px;
            height: auto;
            margin-right: 10px;
        }

        .cart-item-price {
            margin-left: auto;
        }

        .cart-total-price {
            margin-top: 20px;
            font-weight: bold;
        }

        .view-full-cart-btn {
            display: inline-block;
            padding: 10px 20px;
            background-color: #f0c14b;
            text-decoration: none;
            text-align: center;
            margin-top: 20px;
        }

        .hidden {
            display: none;
        }

        /* Product Page */
        #drink1 {
            background-image: url("drink1.jpeg");
            background-size: 115%;
        }

        #drink2 {
            background-image: url("drink 2.jpeg");
            background-size: 110%;
        }

        #drink3 {
            background-image: url("drink 3.jpeg");
            background-size: 110%;
        }

        #drink4 {
            background-image: url("drink1.jpeg");
            background-size: 115%;
        }

        #drink5 {
            background-image: url("drink 2.jpeg");
            background-size: 110%;
        }

        #drink6 {
            background-image: url("drink 3.jpeg");
            background-size: 110%;
        }

        #drink7 {
            background-image: url("drink 3.jpeg");
            background-size: 110%;
        }

        #drink8 {
            background-image: url("drink1.jpeg");
            background-size: 115%;
        }

        #drink9 {
            background-image: url("drink 2.jpeg");
            background-size: 110%;
        }

        .flavorname {
            color: #0C0B0B;
            text-align: left;
            font-size: 18pt;
            font-family: "Agrandir Variable";
            padding-bottom: 0;
            z-index: 1;
            position: relative;
            top: 100%;
            margin-top: 10px;
        }

        .price {
            color: #0C0B0B;
            text-align: left;
            font-size: 14pt;
            z-index: 1;
            position: relative;
            top: 100%;
            margin-top: 5px;
            font-family: "Agrandir Variable";
            font-weight: 250;
        }

        #boxes {
            width: 100%;
            margin: auto;
            margin-top: -700px;
        }

        #outercontainer {
            width: 100%;
            height: auto;
            background-color: #FFFDF5;
            color: #222222;
            font-family: "Object Sans";
        }

        #header {
            font-size: 18pt;
            text-align: center;
            position: relative;
            top: -740px;

        }
    </style>
</head>

<body>
    <!-- Add this HTML structure inside the body tag -->
    <div id="cart-overlay" class="cart-overlay hidden">
        <div class="cart-overlay-content">
            <h3>Your Cart</h3>
            <div id="cart-overlay-items"></div>
            <div class="cart-total-price">Total: $<span id="cart-total"></span></div>
            <a href="shoppingcart.html" class="view-full-cart-btn">View Full Cart</a>
        </div>
    </div>


    <div id="outercontainer">

        <div id="hero-section">
            <div class="navbar">
                <a class="nav-left" href="tabbed-investor-site.html">
                    <img class="tabbed-logo" src="TABBED.svg">
                </a>
                <div class="nav-right">
                    <a class="nav-item" id="about" href="shop.html">Shop</a>
                    <a class="nav-item" id="about" href="about_us.html">About Us</a>
                    <a class="nav-item" id="contact" href="Contact_us.html">Contact Us</a>
                    <a class="nav-item" id="cart" href="shoppingcart.html">Cart</a>
                    <div class="nav-item shopping-cart-wrapper">
                        <img class="shopping-cart-icon" src="shoppingcarticon.png" alt="Shopping Cart">
                        <span id="cart-quantity" class="cart-quantity">0</span>
                    </div>
                </div>
            </div>
        </div>

        <div id="header">
            <h2 class="year">2023</h2>
            <p class="essentials-title">SUMMERTIME SIPPING ESSENTIALS</p>
        </div>






        <div id="boxes">

            <div class="products">

                <div class="flavors" id="drink2">
                    <div class="flavorname">MANGO MOSAIC</div>
                    <div class="price">$24/CASE</div>
                    <button class="add-to-cart-btn" onclick="addToCart(2, 'Mango Mosaic', 24, 'drink 2.jpeg')">Add to
                        Cart</button>
                </div>

                <div class="flavors" id="drink3">
                    <div class="flavorname">GRAPEFRUIT GUSTO</div>
                    <div class="price">$24/CASE</div>
                    <button class="add-to-cart-btn" onclick="addToCart(3, 'Grapefruit Gusto', 24, 'drink 3.jpeg')">Add
                        to Cart</button>
                </div>

                <div class="flavors" id="drink1">
                    <div class="flavorname">CITRUS SYMPHONY</div>
                    <div class="price">$24/CASE</div>
                    <button class="add-to-cart-btn" onclick="addToCart(1, 'Citrus Symphony', 24, 'drink1.jpeg')">Add to
                        Cart</button>
                </div>

                <div class="flavors" id="drink4">
                    <div class="flavorname">CITRUS SYMPHONY</div>
                    <div class="price">$24/CASE</div>
                </div>

                <div class="flavors" id="drink5">
                    <div class="flavorname">MANGO MOSAIC</div>
                    <div class="price">$24/CASE</div>
                </div>

                <div class="flavors" id="drink6">
                    <div class="flavorname">GRAPEFRUIT GUSTO</div>
                    <div class="price">$24/CASE</div>
                </div>

                <div class="flavors" id="drink7">
                    <div class="flavorname">GRAPEFRUIT GUSTO</div>
                    <div class="price">$24/CASE</div>
                </div>

                <div class="flavors" id="drink8">
                    <div class="flavorname">CITRUS SYMPHONY</div>
                    <div class="price">$24/CASE</div>
                </div>

                <div class="flavors" id="drink9">
                    <div class="flavorname">MANGO MOSAIC</div>
                    <div class="price">$24/CASE</div>
                </div>

            </div>

        </div>

        <div class="footer">
            <div id="newsletter-wrapper">
                <div id="newsletter-text-wrapper">
                    <p id="newsletter-text">SUBSCRIBE TO BE THE FIRST TO RECEIVE UPDATES, discounts, AND MORE.</p>
                </div>

                <div class="newsletter-button-wrapper">
                    <div class="newsletter-button">
                        <div class="newsletter-text-wrapper">
                            <input type="email" placeholder="EMAIL ADDRESS" class="newsletter-button-text">
                            </input>
                            <h3 class="arrow">â†—</h3>
                        </div>
                        <hr class="hr-transparent">
                    </div>
                </div>
            </div>

        </div>
        <script>
            // Event listener for the DOMContentLoaded event
            document.addEventListener('DOMContentLoaded', function () {
                // Update the cart when the page loads
                updateCart();
            });
            let shoppingCart = [];

            // Load the cart from the cookie if it exists
            const storedCart = document.cookie.split('; ').find(row => row.startsWith('shoppingCart='));
            if (storedCart) {
                shoppingCart = JSON.parse(decodeURIComponent(storedCart.split('=')[1]));
            }

            function addToCart(id, name, price, iconUrl) {
                // Check if the item is already in the cart
                const itemIndex = shoppingCart.findIndex(item => item.id === id);
                if (itemIndex !== -1) {
                    // If the item is already in the cart, increment its quantity
                    shoppingCart[itemIndex].quantity += 1;
                } else {
                    // If the item is not in the cart, add it with quantity 1
                    shoppingCart.push({ id, name, price, iconUrl, quantity: 1 });
                }
                updateCart();
            }

            function updateCart() {
                // Update the quantity indicator
                const totalQuantity = shoppingCart.reduce((acc, item) => acc + item.quantity, 0);
                document.getElementById('cart-quantity').textContent = totalQuantity;

                // Save the cart to a cookie
                document.cookie = `shoppingCart=${encodeURIComponent(JSON.stringify(shoppingCart))}; path=/; max-age=86400`;
            }
            // Shopping Cart overlay
            function toggleCartOverlay() {
                const overlay = document.getElementById('cart-overlay');
                overlay.classList.toggle('hidden');
                updateCartOverlayItems();
            }

            function updateCartOverlayItems() {
                const cartOverlayItems = document.getElementById('cart-overlay-items');
                cartOverlayItems.innerHTML = '';
                let total = 0;
                if (shoppingCart.length === 0) {
                    cartOverlayItems.innerHTML = '<p>Your cart is empty.</p>';
                } else {
                    shoppingCart.forEach(item => {
                        const itemDiv = document.createElement('div');
                        itemDiv.className = 'cart-item';
                        itemDiv.innerHTML = `
                            <img src="${item.iconUrl}" alt="${item.name}">
                            <span>${item.name} x ${item.quantity}</span>
                            <span class="cart-item-price">$${(item.price * item.quantity).toFixed(2)}</span>
                        `;
                        cartOverlayItems.appendChild(itemDiv);
                        total += item.price * item.quantity;
                    });
                }
                document.getElementById('cart-total').textContent = total.toFixed(2);
            }

            // Attach the toggleCartOverlay function to the click event of the shopping cart icon
            document.querySelector('.shopping-cart-icon').addEventListener('click', function (event) {
                // Prevent the event from bubbling up to the document
                event.stopPropagation();
                toggleCartOverlay();
            });
            // Event listener for clicks on the document
            document.addEventListener('click', function (event) {
                // Get the overlay element
                const overlay = document.getElementById('cart-overlay');
                // Check if the click target is outside the overlay and the overlay is visible
                if (!overlay.contains(event.target) && !overlay.classList.contains('hidden')) {
                    // Hide the overlay
                    toggleCartOverlay();
                }
            });

            // Initial update of the quantity indicator
            updateCart();
        </script>

</body>

</html>